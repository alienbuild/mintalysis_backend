generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model leaderboard {
  wallet            String? @db.Text
  token_count       Float?
  date              String? @db.Text
  sales             Float?
  purchases         Float?
  net_trade_balance Float?

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model mints {
  id        BigInt?
  user      String? @db.Text
  timestamp String? @db.Text
  token_id  BigInt?

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model mints_daily {
  date    DateTime @db.Date
  wallets Int
  items   Int

  @@ignore
}

model tmp_comic_errors {
  token_id Int     @id @unique(map: "token_id")
  name     String? @db.Text
  edition  Int?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model transfers {
  id        BigInt?
  from_user String? @db.Text
  to_user   String? @db.Text
  timestamp String? @db.Text
  token_id  BigInt?

  @@index([token_id], map: "token_id")
  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model veve_transfers {
  id          Int          @id
  from_wallet String
  to_wallet   String
  timestamp   DateTime?
  token_id    Int
  veve_tokens veve_tokens? @relation(fields: [token_id], references: [token_id])

  @@index([token_id, from_wallet, to_wallet])
}

model veve_wallets {
  id        String    @id
  user_id   String?
  users     users?    @relation(fields: [user_id], references: [id])
  createdAt DateTime  @default(now())
  updatedAt DateTime? @updatedAt
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model transfers_daily {
  date      DateTime @db.Date
  transfers Int
  sellers   Int
  buyers    Int
  items     Int
  wallets   Int

  @@ignore
}

model users {
  id            String                     @id @default(uuid())
  email         String                     @unique
  password      String
  createdAt     DateTime                   @default(now())
  updatedAt     DateTime                   @updatedAt
  role          Role                       @default(BASIC)
  username      String                     @unique
  avatar        String?
  tokens        veve_tokens[]
  last_seen     DateTime?                  @updatedAt
  followedBy    users[]                    @relation("user_follows")
  following     users[]                    @relation("user_follows")
  projects      nft_projects[]
  conversations conversation_participant[]
  messages      message[]
  veve_wallets  veve_wallets[]

  @@index([email], map: "email")
  @@index([username], map: "username")
}

model profile {
  id                   Int      @id @default(autoincrement())
  bio                  String?
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
  user_id              String   @unique
  veve_username        String?  @unique
  onboarded            Boolean  @default(false)
  veve_wallet_imported Boolean  @default(false)
  veve_wallet_address  String?
}

model conversation {
  id                String                     @id @default(uuid())
  createdAt         DateTime                   @default(now())
  updatedAt         DateTime                   @updatedAt
  latest_message_id String?                    @unique
  latest_message    message?                   @relation(name: "latest_conversation_message", fields: [latest_message_id], references: [id], onUpdate: NoAction, onDelete: NoAction)
  participants      conversation_participant[]
  messages          message[]

  @@index([latest_message_id], map: "latest_message_id")
}

model conversation_participant {
  id                      String       @id @default(uuid())
  user_id                 String
  user                    users        @relation(fields: [user_id], references: [id])
  conversation_id         String
  conversation            conversation @relation(fields: [conversation_id], references: [id])
  has_seen_latest_message Boolean
  createdAt               DateTime     @default(now())
  updatedAt               DateTime     @updatedAt

  @@index([has_seen_latest_message], map: "has_seen_latest_message")
}

model message {
  id             String        @id @default(uuid())
  conversationId String
  conversation   conversation  @relation(fields: [conversationId], references: [id])
  senderId       String
  sender         users         @relation(fields: [senderId], references: [id])
  is_latest_in   conversation? @relation(name: "latest_conversation_message")
  body           String        @db.Text
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt
}

model nft_projects {
  id     String  @id @default(uuid())
  name   String? @unique
  abbr   String? @unique
  active Boolean @default(false)
  users  users[]
}

model veve_comics {
  unique_cover_id           String                  @id
  name                      String
  rarity                    String?
  description               String?                 @db.Text
  comic_series_id           String?
  drop_date                 DateTime?
  store_price               Decimal?                @db.Decimal(10, 2)
  publisher_id              String?
  market_fee                Decimal?                @db.Decimal(10, 2)
  createdAt                 DateTime                @default(now())
  updatedAt                 DateTime                @updatedAt
  all_time_high             Decimal?                @db.Decimal(10, 2)
  all_time_low              Decimal?                @db.Decimal(10, 2)
  comic_number              Int?
  drop_method               String?
  floor_price               Decimal?                @db.Decimal(10, 2)
  is_free                   Boolean?                @default(false)
  is_unlimited              Boolean?                @default(false)
  market_cap                Decimal?                @db.Decimal(10, 2)
  one_day_change            Decimal?                @db.Decimal(10, 2)
  one_mo_change             Decimal?                @db.Decimal(10, 2)
  one_wk_change             Decimal?                @db.Decimal(10, 2)
  one_year_change           Decimal?                @db.Decimal(10, 2)
  page_count                Int?
  six_mo_change             Decimal?                @db.Decimal(10, 2)
  start_year                Int?
  three_mo_change           Decimal?                @db.Decimal(10, 2)
  total_available           Int?
  total_issued              Int?
  total_listings            Int?
  image_direction           String?
  image_full_resolution_url String?
  image_high_resolution_url String?
  image_low_resolution_url  String?
  image_med_resolution_url  String?
  image_thumbnail           String?
  all_time_change           Decimal?                @db.Decimal(10, 2)
  artists                   veve_comic_artists[]
  characters                veve_comic_characters[]
  writers                   veve_comic_writers[]

  @@index([unique_cover_id], map: "unique_cover_id")
}

model veve_comic_writers {
  author_id String        @id
  name      String
  comics    veve_comics[]
}

model veve_comic_artists {
  artist_id String        @id
  name      String
  comics    veve_comics[]
}

model veve_comic_characters {
  character_id String        @id
  name         String
  comics       veve_comics[]
}

model veve_publishers {
  id             Int      @id @default(autoincrement())
  publisher_id   String   @unique
  publisher_name String
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@index([publisher_id], map: "publisher_id")
}

model veve_tokens {
  token_id          Int                 @id
  name              String?             @db.Text
  edition           Int?
  mint_date         DateTime?
  rarity            String?             @db.Text
  collectible_id    String?
  unique_cover_id   String?
  type              String?             @db.Text
  last_updated      DateTime?           @default(now()) @db.Timestamp(0)
  brand_id          String?
  brand             veve_brands?        @relation(fields: [brand_id], references: [brand_id])
  licensor_id       String?
  licensor          veve_licensors?     @relation(fields: [licensor_id], references: [licensor_id])
  series_id         String?
  series            veve_series?        @relation(fields: [series_id], references: [series_id])
  user_id           String?
  users             users?              @relation(fields: [user_id], references: [id])
  transfers         veve_transfers[]
  veve_collectibles veve_collectibles[]

  @@index([token_id])
}

model veve_collectibles {
  collectible_id                       String        @id
  name                                 String?
  rarity                               String?
  description                          String?       @db.Text
  edition_type                         String?
  store_price                          Decimal?      @db.Decimal(10, 2)
  drop_date                            DateTime?
  market_fee                           Decimal?      @db.Decimal(10, 2)
  createdAt                            DateTime      @default(now())
  updatedAt                            DateTime?
  background_image_direction           String?
  background_image_full_resolution_url String?
  background_image_high_resolution_url String?
  background_image_low_resolution_url  String?
  background_image_med_resolution_url  String?
  background_image_thumbnail_url       String?
  background_image_url                 String?
  image_direction                      String?
  image_full_resolution_url            String?
  image_high_resolution_url            String?
  image_low_resolution_url             String?
  image_med_resolution_url             String?
  image_thumbnail_url                  String?
  image_url                            String?
  is_unlimited                         Boolean?      @default(false)
  total_available                      Int?
  total_issued                         Int?
  total_likes                          Int?
  variety                              String?
  brand_id                             String?
  licensor_id                          String?
  series_id                            String?
  series                               veve_series?  @relation(fields: [series_id], references: [series_id])
  drop_method                          String?
  is_free                              Boolean?      @default(false)
  total_store_allocation               Int?
  all_time_high                        Decimal?      @db.Decimal(10, 2)
  all_time_low                         Decimal?      @db.Decimal(10, 2)
  floor_price                          Decimal?      @db.Decimal(10, 2)
  market_cap                           Decimal?      @db.Decimal(10, 2)
  one_day_change                       Decimal?      @db.Decimal(10, 2)
  one_mo_change                        Decimal?      @db.Decimal(10, 2)
  one_wk_change                        Decimal?      @db.Decimal(10, 2)
  one_year_change                      Decimal?      @db.Decimal(10, 2)
  six_mo_change                        Decimal?      @db.Decimal(10, 2)
  three_mo_change                      Decimal?      @db.Decimal(10, 2)
  total_listings                       Int?
  all_time_change                      Decimal?      @db.Decimal(10, 2)
  veve_tokens                          veve_tokens[]

  @@index([brand_id], map: "collectibles_brand_id_fkey")
  @@index([licensor_id], map: "collectibles_licensor_id_fkey")
  @@index([name], map: "collectibles_name_idx")
  @@index([series_id], map: "collectibles_series_id_fkey")
}

model veve_brands {
  brand_id                                   String        @id
  name                                       String?
  description                                String?       @db.Text
  theme_logo_image_url                       String?
  theme_logo_image_thumbnail_url             String?
  theme_logo_image_low_resolution_url        String?
  theme_logo_image_med_resolution_url        String?
  theme_logo_image_full_resolution_url       String?
  theme_logo_image_high_resolution_url       String?
  theme_logo_image_direction                 String?
  theme_background_image_url                 String?
  theme_background_image_thumbnail_url       String?
  theme_background_image_low_resolution_url  String?
  theme_background_image_med_resolution_url  String?
  theme_background_image_full_resolution_url String?
  theme_background_image_high_resolution_url String?
  theme_background_image_direction           String?
  theme_footer_image_url                     String?
  theme_footer_image_thumbnail_url           String?
  theme_footer_image_low_resolution_url      String?
  theme_footer_image_med_resolution_url      String?
  theme_footer_image_full_resolution_url     String?
  theme_footer_image_high_resolution_url     String?
  theme_footer_image_direction               String?
  landscape_image_url                        String?
  landscape_image_thumbnail_url              String?
  landscape_image_low_resolution_url         String?
  landscape_image_med_resolution_url         String?
  landscape_image_full_resolution_url        String?
  landscape_image_high_resolution_url        String?
  landscape_image_direction                  String?
  square_image_url                           String?
  square_image_thumbnail_url                 String?
  square_image_low_resolution_url            String?
  square_image_med_resolution_url            String?
  square_image_full_resolution_url           String?
  square_image_high_resolution_url           String?
  square_image_direction                     String?
  licensor_id                                String
  veve_tokens                                veve_tokens[]

  @@index([licensor_id], map: "brands_licensor_id_fkey")
}

model veve_licensors {
  licensor_id                                String        @id
  name                                       String?
  description                                String?       @db.Text
  landscape_image_direction                  String?
  landscape_image_full_resolution_url        String?
  landscape_image_high_resolution_url        String?
  landscape_image_low_resolution_url         String?
  landscape_image_med_resolution_url         String?
  landscape_image_thumbnail_url              String?
  landscape_image_url                        String?
  market_fee                                 Decimal?      @db.Decimal(10, 2)
  square_image_direction                     String?
  square_image_full_resolution_url           String?
  square_image_high_resolution_url           String?
  square_image_low_resolution_url            String?
  square_image_med_resolution_url            String?
  square_image_thumbnail_url                 String?
  square_image_url                           String?
  theme_background_image_direction           String?
  theme_background_image_full_resolution_url String?
  theme_background_image_high_resolution_url String?
  theme_background_image_low_resolution_url  String?
  theme_background_image_med_resolution_url  String?
  theme_background_image_thumbnail_url       String?
  theme_background_image_url                 String?
  theme_footer_image_direction               String?
  theme_footer_image_full_resolution_url     String?
  theme_footer_image_high_resolution_url     String?
  theme_footer_image_low_resolution_url      String?
  theme_footer_image_med_resolution_url      String?
  theme_footer_image_thumbnail_url           String?
  theme_footer_image_url                     String?
  theme_logo_image_direction                 String?
  theme_logo_image_full_resolution_url       String?
  theme_logo_image_high_resolution_url       String?
  theme_logo_image_low_resolution_url        String?
  theme_logo_image_med_resolution_url        String?
  theme_logo_image_thumbnail_url             String?
  theme_logo_image_url                       String?
  veve_tokens                                veve_tokens[]
}

model veve_series {
  series_id                                  String              @id
  name                                       String?
  description                                String?             @db.Text
  season                                     Int?
  is_blindbox                                Boolean?            @default(false)
  theme_logo_image_url                       String?
  theme_logo_image_thumbnail_url             String?
  theme_logo_image_low_resolution_url        String?
  theme_logo_image_med_resolution_url        String?
  theme_logo_image_full_resolution_url       String?
  theme_logo_image_high_resolution_url       String?
  theme_logo_image_direction                 String?
  theme_background_image_url                 String?
  theme_background_image_thumbnail_url       String?
  theme_background_image_low_resolution_url  String?
  theme_background_image_med_resolution_url  String?
  theme_background_image_full_resolution_url String?
  theme_background_image_high_resolution_url String?
  theme_background_image_direction           String?
  theme_footer_image_url                     String?
  theme_footer_image_thumbnail_url           String?
  theme_footer_image_low_resolution_url      String?
  theme_footer_image_med_resolution_url      String?
  theme_footer_image_full_resolution_url     String?
  theme_footer_image_high_resolution_url     String?
  theme_footer_image_direction               String?
  landscape_image_url                        String?
  landscape_image_thumbnail_url              String?
  landscape_image_low_resolution_url         String?
  landscape_image_med_resolution_url         String?
  landscape_image_full_resolution_url        String?
  landscape_image_high_resolution_url        String?
  landscape_image_direction                  String?
  square_image_url                           String?
  square_image_thumbnail_url                 String?
  square_image_low_resolution_url            String?
  square_image_med_resolution_url            String?
  square_image_full_resolution_url           String?
  square_image_high_resolution_url           String?
  square_image_direction                     String?
  licensor_id                                String
  brand_id                                   String
  veve_collectibles                          veve_collectibles[]
  veve_tokens                                veve_tokens[]

  @@index([brand_id], map: "series_brand_id_fkey")
  @@index([licensor_id], map: "series_licensor_id_fkey")
}

model odb_tokens {
  token_id        BigInt    @id
  unique_cover_id String?   @db.VarChar(255)
  type            String?   @db.VarChar(255)
  collectible_id  String?   @db.VarChar(255)
  name            String?   @db.VarChar(255)
  description     String?   @db.Text
  rarity          String?   @db.VarChar(255)
  edition_type    String?   @db.VarChar(10)
  edition         Int?
  total_editions  Int?
  mint_date       DateTime
  drop_date       DateTime? @db.DateTime(0)
  comic_number    Int?
  image_url       String?   @db.Text
  start_year      Int?
  cover_artists   String?   @db.Text
  artists         String?   @db.Text
  writers         String?   @db.Text
  characters      String?   @db.Text
  publisher_name  String?   @db.Text
  series_name     String?   @db.Text
  brand_name      String?   @db.Text
  licensor_name   String?   @db.Text
  last_updated    DateTime? @db.DateTime(0)
  created_at      DateTime? @db.DateTime(0)
  to_process      Int?      @db.TinyInt
  licensor_id     String?   @db.VarChar(255)
  brand_id        String?   @db.VarChar(255)
  series_id       String?   @db.VarChar(255)

  @@index([edition], map: "edition")
  @@index([last_updated], map: "last_updated")
  @@index([name], map: "name")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model tmp_ids {
  uniqueCoverId             String
  image_full_resolution_url String?

  @@ignore
}

enum Role {
  BASIC
  ADMIN
}
